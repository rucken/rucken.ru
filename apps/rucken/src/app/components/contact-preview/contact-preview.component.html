<div class="py-4">
    <div class="container">
        <ng-container *ngIf="alert$ | async as alert">
            <alert [type]="alert.type" [dismissOnTimeout]="3000" [dismissible]="true">
                {{ alert.message }}
            </alert>
        </ng-container>
        <ng-container *ngIf="form.customValidateErrors | async as errors">
            <form class="needs-validationd" [formGroup]="form" (submit)="onSendMessage(form)" role="form" novalidate>
                <div class="form-group">
                    <label for="username">You name or nickname</label>
                    <input
                        formControlName="username"
                        class="form-control"
                        [ngClass]="{ 'is-invalid': errors?.username?.length }"
                        id="username"
                        placeholder="example: Bob"
                    />
                    <div class="invalid-feedback" *ngIf="errors?.username?.length">
                        {{ errors.username[0] }}
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">You email address</label>
                    <input
                        type="email"
                        formControlName="email"
                        class="form-control"
                        [ngClass]="{ 'is-invalid': errors?.email?.length }"
                        id="email"
                        placeholder="example: name@example.com"
                    />
                    <div class="invalid-feedback" *ngIf="errors?.email?.length">
                        {{ errors.email[0] }}
                    </div>
                </div>
                <div class="form-group">
                    <label for="message">Message text</label>
                    <textarea
                        formControlName="message"
                        class="form-control"
                        [ngClass]="{ 'is-invalid': errors?.message?.length }"
                        id="message"
                        rows="3"
                    ></textarea>
                    <div class="invalid-feedback" *ngIf="errors?.message?.length">
                        {{ errors.message[0] }}
                    </div>
                </div>
                <button class="btn btn-primary" type="submit" [disabled]="!form.valid">Send message</button>
            </form>
        </ng-container>
    </div>
</div>
